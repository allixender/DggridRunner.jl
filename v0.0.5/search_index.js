var documenterSearchIndex = {"docs":
[{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#DGGRIDRunner","page":"API Reference","title":"DGGRIDRunner","text":"","category":"section"},{"location":"api/#DGGRIDParams","page":"API Reference","title":"DGGRIDParams","text":"","category":"section"},{"location":"api/#AuthalicConversion","page":"API Reference","title":"AuthalicConversion","text":"","category":"section"},{"location":"api/#DGGRIDRunner.prep_output_stats","page":"API Reference","title":"DGGRIDRunner.prep_output_stats","text":"prep_output_stats(dggs_type::String, resolution::Int) -> (Bool, DGGRIDParams.DGGRIDMetafile)\n\nPrepare a DGGRID metafile for the OUTPUT_STATS operation.\n\nReturns (success, params) where success indicates validation status and params holds the configured metafile ready for run_output_stats.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.parse_output_stats","page":"API Reference","title":"DGGRIDRunner.parse_output_stats","text":"parse_output_stats(lines::Vector{<:AbstractString}) -> Dict{Int, NamedTuple}\n\nParse the text output of a DGGRID OUTPUT_STATS run into a dictionary keyed by resolution.\n\nEach value is a NamedTuple with fields num_cells, area_km2, area_m2, cls_km, cls_m.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.run_output_stats","page":"API Reference","title":"DGGRIDRunner.run_output_stats","text":"run_output_stats(params::DGGRIDParams.DGGRIDMetafile; temp_prefix::String = \"\") -> Dict{Int, NamedTuple}\n\nExecute DGGRID with the given OUTPUT_STATS metafile and return parsed statistics.\n\nWrites a temporary metafile, runs the DGGRID binary, captures stdout, and calls parse_output_stats on the result. Pass temp_prefix to control the directory used for the temporary file.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.run_dggrid_simple","page":"API Reference","title":"DGGRIDRunner.run_dggrid_simple","text":"run_dggrid_simple(params::DGGRIDParams.DGGRIDMetafile; temp_prefix::String = \"\")\n\nExecute DGGRID with the given metafile parameters.\n\nWrites params to a temporary metafile, invokes the DGGRID binary via DGGRID7_jll, then deletes the temporary file. Output files are written to the paths already set inside params. Pass temp_prefix to control the directory used for the temporary file.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.prep_generate_grid_whole_earth","page":"API Reference","title":"DGGRIDRunner.prep_generate_grid_whole_earth","text":"prep_generate_grid_whole_earth(dggs_type::String,\n                               resolution::Int; \n                               output_format::String=\"GPKG\",\n                               output_dir::String=\"\",\n                               address_type::String=\"SEQNUM\",\n                               densification::Int=0,\n                               point_output::Bool=false)\n\nPrepare parameters for generating a complete global grid at specified resolution.\n\nArguments\n\ndggs_type::String: DGG preset type (e.g., \"ISEA7H\", \"IGEO7\")\nresolution::Int: Grid resolution level (0-20 for ISEA7H/IGEO7)\noutput_format::String: GDAL format (\"GPKG\", \"FlatGeobuf\", \"Arrow\", \"GeoJSON\", \"ESRI Shapefile\")\noutput_dir::String: Output directory (empty string uses temp directory)\naddress_type::String: Cell addressing scheme (\"SEQNUM\", \"Q2DI\", \"HIERNDX\")\ndensification::Int: Number of additional points per cell edge (default 0)\npoint_output::Bool: If true, output cell center points instead of cell boundaries (default false)\n\nReturns\n\n(success::Bool, params::DGGRIDMetafile, output_path::String): Validation status, metafile parameters, and output file path\n\nExample\n\n# Generate cell boundaries\nsuccess, params, output_path = prep_generate_grid_whole_earth(\"ISEA7H\", 3, output_format=\"GPKG\")\nif success\n    run_dggrid_simple(params)\n    # Read output from output_path\nend\n\n# Generate cell center points\nsuccess, params, output_path = prep_generate_grid_whole_earth(\"ISEA7H\", 3, point_output=true)\nif success\n    run_dggrid_simple(params)\n    # Read point output from output_path\nend\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.prep_generate_grid_coarse_cells","page":"API Reference","title":"DGGRIDRunner.prep_generate_grid_coarse_cells","text":"prep_generate_grid_coarse_cells(dggs_type::String,\n                                resolution::Int, \n                                coarse_res::Int,\n                                coarse_cells::Vector{<:AbstractString};\n                                output_format::String=\"GPKG\",\n                                output_dir::String=\"\",\n                                address_type::String=\"SEQNUM\",\n                                densification::Int=0,\n                                clip_densification::Int=1,\n                                point_output::Bool=false)\n\nPrepare parameters for generating grid cells within specified coarser resolution cells.\n\nArguments\n\ndggs_type::String: DGG preset type (e.g., \"ISEA7H\", \"IGEO7\")\nresolution::Int: Target grid resolution level\ncoarse_res::Int: Resolution of coarse clipping cells (must be < resolution and > 0)\ncoarse_cells::Vector{<:AbstractString}: Cell identifiers (sequence numbers or addresses) of coarse cells to use as clipping regions\noutput_format::String: GDAL format (\"GPKG\", \"FlatGeobuf\", \"Arrow\", \"GeoJSON\", \"ESRI Shapefile\")\noutput_dir::String: Output directory (empty string uses temp directory)\naddress_type::String: Cell addressing scheme (\"SEQNUM\", \"Q2DI\", \"HIERNDX\")\ndensification::Int: Number of additional points per cell edge (default 0)\nclip_densification::Int: Densification for coarse cell boundaries (default 1)\npoint_output::Bool: If true, output cell center points instead of cell boundaries (default false)\n\nReturns\n\n(success::Bool, params::DGGRIDMetafile, output_path::String): Validation status, metafile parameters, and output file path\n\nExample\n\n# Generate resolution 5 cell boundaries within coarse resolution 2 cells 1, 2, and 3\nsuccess, params, output_path = prep_generate_grid_coarse_cells(\"ISEA7H\", 5, 2, string.([1, 2, 3]))\nif success\n    run_dggrid_simple(params)\n    # Read output from output_path\nend\n\n# Generate resolution 5 cell center points\nsuccess, params, output_path = prep_generate_grid_coarse_cells(\"ISEA7H\", 5, 2, string.([1, 2, 3]), point_output=true)\nif success\n    run_dggrid_simple(params)\n    # Read point output from output_path\nend\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.prep_generate_grid_clip_region","page":"API Reference","title":"DGGRIDRunner.prep_generate_grid_clip_region","text":"prep_generate_grid_clip_region(dggs_type::String,\n                               resolution::Int, \n                               clip_file::String;\n                               output_format::String=\"GPKG\",\n                               output_dir::String=\"\",\n                               address_type::String=\"SEQNUM\",\n                               densification::Int=0,\n                               geodetic_densify::Float64=0.0,\n                               use_holes::Bool=false,\n                               point_output::Bool=false)\n\nPrepare parameters for generating grid cells clipped to a spatial region defined by a file.\n\nArguments\n\ndggs_type::String: DGG preset type (e.g., \"ISEA7H\", \"IGEO7\")\nresolution::Int: Grid resolution level\nclip_file::String: Path to clipping polygon file (Shapefile, GeoPackage, GeoJSON, etc.)\noutput_format::String: GDAL format (\"GPKG\", \"FlatGeobuf\", \"Arrow\", \"GeoJSON\", \"ESRI Shapefile\")\noutput_dir::String: Output directory (empty string uses temp directory)\naddress_type::String: Cell addressing scheme (\"SEQNUM\", \"Q2DI\", \"HIERNDX\")\ndensification::Int: Number of additional points per cell edge (default 0)\ngeodetic_densify::Float64: Max arc length in degrees for clipping polygon segments (0.0 = no densification)\nuse_holes::Bool: Handle holes in clipping polygons (default false)\npoint_output::Bool: If true, output cell center points instead of cell boundaries (default false)\n\nReturns\n\n(success::Bool, params::DGGRIDMetafile, output_path::String): Validation status, metafile parameters, and output file path\n\nExample\n\n# Generate cell boundaries clipped to a region defined in a shapefile\nsuccess, params, output_path = prep_generate_grid_clip_region(\n    \"ISEA7H\", 5, \"/path/to/region.shp\",\n    geodetic_densify=1.0\n)\nif success\n    run_dggrid_simple(params)\n    # Read output from output_path\nend\n\n# Generate cell center points clipped to a region\nsuccess, params, output_path = prep_generate_grid_clip_region(\n    \"ISEA7H\", 5, \"/path/to/region.shp\",\n    point_output=true\n)\nif success\n    run_dggrid_simple(params)\n    # Read point output from output_path\nend\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.prep_generate_grid_clip_cells","page":"API Reference","title":"DGGRIDRunner.prep_generate_grid_clip_cells","text":"prep_generate_grid_clip_region(dggs_type::String,\n                               resolution::Int, \n                               clip_file::String;\n                               output_format::String=\"GPKG\",\n                               output_dir::String=\"\",\n                               address_type::String=\"SEQNUM\",\n                               densification::Int=0,\n                               geodetic_densify::Float64=0.0,\n                               use_holes::Bool=false,\n                               point_output::Bool=false)\n\nPrepare parameters for generating grid cells clipped to a spatial region defined by a file.\n\nArguments\n\ndggs_type::String: DGG preset type (e.g., \"ISEA7H\", \"IGEO7\")\nresolution::Int: Grid resolution level\nclip_file::String: Path to clipping text file containing a list of cell ids within the same resolution\noutput_format::String: GDAL format (\"GPKG\", \"FlatGeobuf\", \"Arrow\", \"GeoJSON\", \"ESRI Shapefile\")\noutput_dir::String: Output directory (empty string uses temp directory)\noutput_address_type::String: Cell addressing scheme for output (\"SEQNUM\", \"Q2DI\", \"HIERNDX\")\ninput_address_type::String: Cell addressing scheme for input (\"SEQNUM\", \"Q2DI\", \"HIERNDX\")\ndensification::Int: Number of additional points per cell edge (default 0)\ngeodetic_densify::Float64: Max arc length in degrees for clipping polygon segments (0.0 = no densification)\npoint_output::Bool: If true, output cell center points instead of cell boundaries (default false)\n\nReturns\n\n(success::Bool, params::DGGRIDMetafile, output_path::String): Validation status, metafile parameters, and output file path\n\nExample\n\n# Generate cells  clipped to a region defined by a list of cell IDs in a text file\nsuccess, params, output_path = prep_generate_grid_clip_cells(\n    \"ISEA7H\", 5, \"/path/to/cellids.txt\",\n    geodetic_densify=1.0\n)\nif success\n    run_dggrid_simple(params)\n    # Read output from output_path\nend\n\n# Generate cell center points clipped to a region\nsuccess, params, output_path = prep_generate_grid_clip_cells(\n    \"ISEA7H\", 5, \"/path/to/cellids.txt\",\n    point_output=true\n)\nif success\n    run_dggrid_simple(params)\n    # Read point output from output_path\nend\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.grid_gen_convenience!","page":"API Reference","title":"DGGRIDRunner.grid_gen_convenience!","text":"grid_gen_convenience!(params::DGGRIDParams.DGGRIDMetafile;\n                      longitude_wrap_mode::String = \"UNWRAP_EAST\",\n                      dggs_vert0_lon = 11.2) -> Bool\n\nApply common convenience parameters to a GENERATE_GRID metafile in-place.\n\nSets the vertex-0 longitude/latitude for ISEA/IGEO projections, configures longitude_wrap_mode, adds output_hier_ndx_form = \"digit_string\" for HIERNDX address types, and adjusts Shapefile field lengths when needed. Returns true if the updated metafile passes validation, false otherwise.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams","text":"DGGRID Metafile Parameter Library\n\nThis module provides a comprehensive parameter library for DGGRID metafiles. It defines all parameters with their types, allowed values, defaults, and validation.\n\nBased on DGGRID documentation and focused on:\n\nOperations: GENERATEGRID, TRANSFORMPOINTS, OUTPUT_STATS\nAddress forms: SEQNUM, Q2DI, HIERNDX (Z7, Z7STRING, INT64, DIGITSTRING)\nDGG presets: ISEA7H, IGEO7\n\n\n\n\n\n","category":"module"},{"location":"api/#DGGRIDRunner.DGGRIDParams.DGGRIDMetafile","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.DGGRIDMetafile","text":"DGGRIDMetafile\n\nContainer for DGGRID metafile parameters.\n\n\n\n\n\n","category":"type"},{"location":"api/#DGGRIDRunner.DGGRIDParams.Parameter","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.Parameter","text":"Parameter\n\nRepresents a single DGGRID metafile parameter with its metadata.\n\n\n\n\n\n","category":"type"},{"location":"api/#DGGRIDRunner.DGGRIDParams.create_metafile","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.create_metafile","text":"create_metafile(; kwargs...)\n\nCreate a new metafile with the given parameters.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.add_parameter!","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.add_parameter!","text":"add_parameter!(metafile::DGGRIDMetafile, name::String, value::Any)\n\nAdd or update a parameter in the metafile.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.get_parameter","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.get_parameter","text":"get_parameter(metafile::DGGRIDMetafile, name::String, default=nothing)\n\nGet a parameter value from the metafile.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.remove_parameter!","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.remove_parameter!","text":"remove_parameter!(metafile::DGGRIDMetafile, name::String)\n\nRemove a parameter from the metafile.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.validate_metafile","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.validate_metafile","text":"validate_metafile(metafile::DGGRIDMetafile)\n\nValidate all parameters in a metafile. Returns (is_valid::Bool, errors::Vector{String})\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.write_metafile","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.write_metafile","text":"write_metafile(metafile::DGGRIDMetafile, filepath::String)\n\nWrite a metafile to disk in DGGRID format.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.read_metafile","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.read_metafile","text":"read_metafile(filepath::String) -> DGGRIDMetafile\n\nRead a DGGRID metafile from disk and return a populated DGGRIDMetafile.\n\nParses key value lines (one per row), skipping blank lines and # comments.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.list_parameters","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.list_parameters","text":"list_parameters(; operation::Union{Nothing,String}=nothing)\n\nList all available parameters, optionally filtered by operation.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.DGGRIDParams.get_parameter_info","page":"API Reference","title":"DGGRIDRunner.DGGRIDParams.get_parameter_info","text":"get_parameter_info(name::String)\n\nGet information about a parameter.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.AuthalicConversion.AuthalicToWGS84","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.AuthalicToWGS84","text":"AuthalicToWGS84\n\nCallable struct that converts a point from authalic (equal-area sphere) latitude/longitude to WGS84 geodetic latitude/longitude.\n\nCall it with an SVector{2,Float64} of (lon, lat) in degrees; returns an SVector{2,Float64} of WGS84 (lon, lat) in degrees.\n\n\n\n\n\n","category":"type"},{"location":"api/#DGGRIDRunner.AuthalicConversion.WGS84ToAuthalic","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.WGS84ToAuthalic","text":"WGS84ToAuthalic\n\nCallable struct that converts a point from WGS84 geodetic latitude/longitude to authalic (equal-area sphere) latitude/longitude.\n\nCall it with an SVector{2,Float64} of (lon, lat) in degrees; returns an SVector{2,Float64} of authalic (lon, lat) in degrees.\n\n\n\n\n\n","category":"type"},{"location":"api/#DGGRIDRunner.AuthalicConversion.transform_and_unwrap","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.transform_and_unwrap","text":"transform_and_unwrap(f, poly) -> ArchGDAL.IGeometry{wkbPolygon}\n\nApply point-transform f to every vertex of poly's exterior ring, unwrap longitudes across the ±180° dateline in the same pass, and return a new ArchGDAL polygon.\n\nf must accept an SVector{2,Float64} (lon, lat) and return one.\n\nOnly the exterior ring is processed (DGGS cells have no holes).\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.AuthalicConversion.transform_and_unwrap_point","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.transform_and_unwrap_point","text":"transform_and_unwrap_point(f, point) -> ArchGDAL.IGeometry{wkbPoint}\n\nApply point-transform f to a single GeoInterface point, wrap the resulting longitude into [-180, 180], and return an ArchGDAL point geometry.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.AuthalicConversion.unwrap_polygon_lon!","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.unwrap_polygon_lon!","text":"unwrap_polygon_lon!(coords::Vector{Tuple{Float64,Float64}})\n\nIn-place dateline unwrap on a vector of (lon, lat) tuples. Modifies coords and returns it.\n\n\n\n\n\n","category":"function"},{"location":"api/#DGGRIDRunner.AuthalicConversion.unwrap_polygon","page":"API Reference","title":"DGGRIDRunner.AuthalicConversion.unwrap_polygon","text":"unwrap_polygon(poly) -> ArchGDAL.IGeometry{wkbPolygon}\n\nExtract exterior ring coordinates, unwrap longitudes across the dateline, and rebuild as an ArchGDAL polygon.  For use when the polygon has already been transformed (e.g. by GO.transform) and only needs unwrapping.\n\n\n\n\n\n","category":"function"},{"location":"examples/clip_cells_workflow/#Cell-Clipped-Grid-from-a-HIERNDX-Cell-ID-List","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Cell-Clipped Grid from a HIERNDX Cell-ID List","text":"This example generates grid cells for a specific set of IGEO7 cells identified by their HIERNDX addresses, using prep_generate_grid_clip_cells.\n\nThis is useful when you already know which cells you need — for instance when you have computed relevant cell IDs from an upstream analysis and want to materialise only those polygons rather than generating the entire grid.","category":"section"},{"location":"examples/clip_cells_workflow/#Extra-packages","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Extra packages","text":"using Pkg\nPkg.add([\"GeoDataFrames\", \"GeoFormatTypes\"])\n\nusing DGGRIDRunner\nimport DGGRIDRunner.AuthalicConversion: AuthalicToWGS84, transform_and_unwrap\nimport GeoDataFrames as GDF\nimport GeoFormatTypes\nusing Base.Threads","category":"section"},{"location":"examples/clip_cells_workflow/#Step-1-—-Write-a-cell-ID-input-file","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Step 1 — Write a cell-ID input file","text":"prep_generate_grid_clip_cells expects the cell IDs as a plain-text file with one ID per line.  Here we write a temporary file from a Julia vector.\n\ncell_ids = [\"0001615332\", \"0001615333\", \"0001615335\"]\n\nid_file = tempname() * \".txt\"\nwrite(id_file, join(cell_ids, \"\\n\"))","category":"section"},{"location":"examples/clip_cells_workflow/#Step-2-—-Prepare-parameters","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Step 2 — Prepare parameters","text":"Both input_address_type and output_address_type are set to \"HIERNDX\" so that DGGRID interprets the input IDs correctly and labels the output cells with the same addressing scheme.\n\nsuccess, params, output_path = prep_generate_grid_clip_cells(\n    \"IGEO7\", 8, id_file;\n    output_format       = \"GPKG\",\n    output_address_type = \"HIERNDX\",\n    input_address_type  = \"HIERNDX\",\n    point_output        = false,\n)","category":"section"},{"location":"examples/clip_cells_workflow/#Step-3-—-Apply-convenience-settings-and-run-DGGRID","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Step 3 — Apply convenience settings and run DGGRID","text":"success && grid_gen_convenience!(params)\nsuccess && run_dggrid_simple(params)\n\nThe temporary cell-ID file is no longer needed once DGGRID has read it.\n\nrm(id_file)","category":"section"},{"location":"examples/clip_cells_workflow/#Step-4-—-Read-and-convert-geometry","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Step 4 — Read and convert geometry","text":"As with all IGEO7 output, coordinates are in the authalic CRS. We apply the fused transform-and-unwrap pass in parallel.\n\ngdf = GDF.read(output_path)\nprintln(\"Clipped grid cells generated: $(nrow(gdf))\")\n\nf = AuthalicToWGS84()\ngeometry_wgs84 = Vector{Any}(undef, nrow(gdf))\n\n@threads for i in eachindex(gdf.geometry)\n    geometry_wgs84[i] = transform_and_unwrap(f, gdf.geometry[i])\nend\n\ngdf.geometry = geometry_wgs84","category":"section"},{"location":"examples/clip_cells_workflow/#Step-5-—-Inspect-results","page":"Cell-Clipped Grid from a HIERNDX Cell-ID List","title":"Step 5 — Inspect results","text":"For this small set of cells we simply print the converted geometries. In a real workflow you would write to a file or pass gdf to a plotting function.\n\nfor i in eachindex(gdf.geometry)\n    println(\"Cell $i ($(gdf[i, :name])): $(gdf.geometry[i])\")\nend\n\n\n\nThis page was generated using Literate.jl.","category":"section"},{"location":"examples/coarse_cells_workflow/#Coarse-Cells-Sub-Grid-with-HIERNDX-Addressing","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Coarse-Cells Sub-Grid with HIERNDX Addressing","text":"This example generates the fine-resolution children of a single IGEO7 parent cell, using HIERNDX (hierarchical index) cell addressing.\n\nHIERNDX encodes the full path from the coarsest cell down to the target cell as a digit string, e.g. \"0001611\" for a resolution-5 IGEO7 cell. grid_gen_convenience! applies the standard extra parameters required for HIERNDX grids: digit-string index format, vertex-0 position, and longitude unwrap mode.","category":"section"},{"location":"examples/coarse_cells_workflow/#Extra-packages","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Extra packages","text":"using Pkg\nPkg.add([\"GeoDataFrames\", \"GeoFormatTypes\"])\n\nusing DGGRIDRunner\nimport DGGRIDRunner.AuthalicConversion: AuthalicToWGS84, transform_and_unwrap\nimport GeoDataFrames as GDF\nimport GeoFormatTypes\nusing Base.Threads","category":"section"},{"location":"examples/coarse_cells_workflow/#Step-1-—-Prepare-parameters","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Step 1 — Prepare parameters","text":"We request IGEO7 cells at resolution 10 that fall inside the resolution-5 parent cell \"0001611\".  Setting address_type = \"HIERNDX\" makes DGGRID label every output cell with its hierarchical index.\n\nparent_cell_id = \"0001611\"\n\nsuccess, params, output_path = prep_generate_grid_coarse_cells(\n    \"IGEO7\", 10, 5, [parent_cell_id];\n    output_format = \"GPKG\",\n    address_type  = \"HIERNDX\",\n    point_output  = false,\n)","category":"section"},{"location":"examples/coarse_cells_workflow/#Step-2-—-Apply-convenience-settings","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Step 2 — Apply convenience settings","text":"grid_gen_convenience! adds the parameters that HIERNDX grids require but that the individual prep_* functions do not set automatically:\n\noutput_hier_ndx_form  = \"digit_string\"\ndggs_vert0_lon / lat (vertex-0 of the icosahedron)\nlongitude_wrap_mode   = \"UNWRAP_EAST\"\n\nsuccess && grid_gen_convenience!(params)","category":"section"},{"location":"examples/coarse_cells_workflow/#Step-3-—-Run-DGGRID","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Step 3 — Run DGGRID","text":"success && run_dggrid_simple(params)","category":"section"},{"location":"examples/coarse_cells_workflow/#Step-4-—-Read-and-convert-geometry","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Step 4 — Read and convert geometry","text":"Like all IGEO7 output, the raw coordinates are in the authalic CRS. We apply the fused transform-and-unwrap pass and parallelise with @threads.\n\ngdf = GDF.read(output_path)\nprintln(\"Sub-grid cells generated: $(nrow(gdf))\")\n\nf = AuthalicToWGS84()\ngeometry_wgs84 = Vector{Any}(undef, nrow(gdf))\n\n@threads for i in eachindex(gdf.geometry)\n    geometry_wgs84[i] = transform_and_unwrap(f, gdf.geometry[i])\nend\n\ngdf.geometry = geometry_wgs84","category":"section"},{"location":"examples/coarse_cells_workflow/#Step-5-—-Write-the-WGS84-result","page":"Coarse-Cells Sub-Grid with HIERNDX Addressing","title":"Step 5 — Write the WGS84 result","text":"out_path = replace(output_path, \".gpkg\" => \"_wgs84.gpkg\")\nGDF.write(out_path, gdf; crs = GeoFormatTypes.EPSG(4326))\nprintln(\"WGS84 sub-grid written to: $out_path\")\n\n\n\nThis page was generated using Literate.jl.","category":"section"},{"location":"#DGGRIDRunner.jl","page":"Home","title":"DGGRIDRunner.jl","text":"A Julia wrapper for the DGGRID CLI tool, providing high-level functions to create and query Discrete Global Grid Systems (DGGS).\n\nDGGRID is a free software program for creating and manipulating Discrete Global Grids created and maintained by Kevin Sahr.\n\nDGGRID Version 8.43 on GitHub\nDGGRID User Manual\n\n(Image: Population Gridded)","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"DGGRIDRunner\")","category":"section"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"using DGGRIDRunner\n\n# Generate an ISEA7H grid at resolution 3 (whole earth)\nsuccess, params, output_path = prep_generate_grid_whole_earth(\"ISEA7H\", 3)\nrun_dggrid_simple(params)\n# → output_path now points to a GeoPackage with the grid cells","category":"section"},{"location":"#Inspiration","page":"Home","title":"Inspiration","text":"There is a very similar Python package with a longer history: dggrid4py. That package tries to abstract away the DGGRID parameters in order to give users an easier API. This DggridRunner Julia package goes down a different road and rather gives an easy access to better use the specific paramters for more fine-grained DGGRID usage.","category":"section"},{"location":"examples/whole_earth_igeo7/#Whole-Earth-IGEO7-Grid:-Generation-and-Authalic-to-WGS84-Conversion","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","text":"This example generates a complete global IGEO7 grid at a given resolution and converts the output geometry from the authalic CRS used internally by DGGRID back to WGS84 (EPSG:4326) for use in standard GIS tooling.\n\nIGEO7 is an isometric equal-area DGGS.  Because DGGRID places cell vertices on an authalic sphere, the raw output coordinates are not in WGS84 and must be transformed before writing to a standard geospatial file.","category":"section"},{"location":"examples/whole_earth_igeo7/#Extra-packages","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Extra packages","text":"This example reads and writes spatial files with GeoDataFrames.jl and GeoFormatTypes.jl. Install them once with:\n\nusing Pkg\nPkg.add([\"GeoDataFrames\", \"GeoFormatTypes\"])\n\nusing DGGRIDRunner\nimport DGGRIDRunner.AuthalicConversion: AuthalicToWGS84, transform_and_unwrap\nimport GeoDataFrames as GDF\nimport GeoFormatTypes\nusing Base.Threads","category":"section"},{"location":"examples/whole_earth_igeo7/#Step-1-—-Prepare-DGGRID-parameters","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Step 1 — Prepare DGGRID parameters","text":"prep_generate_grid_whole_earth validates the requested DGGS type and resolution, builds a DGGRIDMetafile, and returns a temporary output path. We use SEQNUM addressing here (the default), which assigns each cell a sequential integer ID.\n\ndggs_type  = \"IGEO7\"\nresolution = 3\n\nsuccess, params, output_path = prep_generate_grid_whole_earth(\n    dggs_type, resolution;\n    output_format = \"GPKG\",\n    address_type  = \"SEQNUM\",\n)","category":"section"},{"location":"examples/whole_earth_igeo7/#Step-2-—-Run-DGGRID","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Step 2 — Run DGGRID","text":"run_dggrid_simple writes the metafile to a temporary location, calls the DGGRID binary bundled via DGGRID7_jll, and cleans up afterwards. Output cells are written to output_path.\n\nsuccess && run_dggrid_simple(params)","category":"section"},{"location":"examples/whole_earth_igeo7/#Step-3-—-Read-the-raw-output","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Step 3 — Read the raw output","text":"The GeoPackage produced by DGGRID contains cell polygons whose coordinates are in the authalic equatorial CRS, not in WGS84.\n\ngdf = GDF.read(output_path)\nprintln(\"Grid cells generated: $(nrow(gdf))\")","category":"section"},{"location":"examples/whole_earth_igeo7/#Step-4-—-Convert-authalic-WGS84","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Step 4 — Convert authalic → WGS84","text":"AuthalicToWGS84 is a zero-allocation callable struct. transform_and_unwrap applies the coordinate conversion and unwraps longitudes across the ±180° dateline in a single pass per polygon — no intermediate allocations.  We parallelise across cells with @threads.\n\nf = AuthalicToWGS84()\ngeometry_wgs84 = Vector{Any}(undef, nrow(gdf))\n\n@threads for i in eachindex(gdf.geometry)\n    geometry_wgs84[i] = transform_and_unwrap(f, gdf.geometry[i])\nend\n\ngdf.geometry = geometry_wgs84","category":"section"},{"location":"examples/whole_earth_igeo7/#Step-5-—-Write-the-WGS84-result","page":"Whole-Earth IGEO7 Grid: Generation and Authalic-to-WGS84 Conversion","title":"Step 5 — Write the WGS84 result","text":"out_path = replace(output_path, \".gpkg\" => \"_wgs84.gpkg\")\nGDF.write(out_path, gdf; crs = GeoFormatTypes.EPSG(4326))\nprintln(\"WGS84 grid written to: $out_path\")\n\n\n\nThis page was generated using Literate.jl.","category":"section"}]
}
